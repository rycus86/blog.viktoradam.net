<article class="post-card post">
    <a class="post-card-image-link" href="{{ .Permalink }}">
      {{ if .Params.image }}
        {{ $postImage := .Params.image }}
        {{ $imgPost := (resources.Get $postImage).Resize "x200 q75 Lanczos" }}
        <div class="post-card-image" style="background-image: url({{ $imgPost.Permalink }})"></div>
      {{ else }}
        <div class="post-card-image"></div>
      {{ end }}
    </a>

    <div class="post-card-content">
      <a class="post-card-content-link" href="{{ .Permalink }}">
          <header class="post-card-header">
              {{if .Params.tags }}
              <span class="post-card-tags">
                  {{ range $tag := first 1 .Params.tags }} {{$tag}} {{ end }}
              </span>
              {{ end }}
              <h2 class="post-card-title">{{.Title}}</h2>
          </header>
          <section class="post-card-excerpt">
              {{ if .Description }} 
                <p>{{ .Description | markdownify }}</p>
              {{else}}
                <p>{{ .Summary | plainify | safeHTML }}</p>
              {{end}}
          </section>
      </a>

      <footer class="post-card-meta">
          {{if .Params.authors}}{{with $.Site.GetPage "taxonomyTerm" (printf "authors/%s" (index .Params.authors 0))}}
            {{ $authorImage := .Params.image }}
            {{ $imgAuthor := (resources.Get $authorImage).Resize "60x60 q75 Lanczos" }}
          <img class="author-profile-image" src="{{ $imgAuthor.Permalink }}" alt="{{ .Title }}" />
          {{end}}{{end}}
          <span class="post-card-reading-time">{{.ReadingTime}} min read</span>
          {{if .Params.authors}}{{with $.Site.GetPage "taxonomyTerm" (printf "authors/%s" (index .Params.authors 0))}}
          <span class="post-card-author"><a href="{{.Permalink}}">{{.Title}}</a></span>
          {{end}}{{end}}
      </footer>
    </div>
</article>